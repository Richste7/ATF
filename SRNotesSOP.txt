Standard Operating Procedure

Adding new tests to ATF

- run powershell admin
  - cd c:\Users\root\Desktop\RunTests\atf
  - $PSDefaultParameterValues = @{"Invoke-AtomicTest:PathToAtomicsFolder"="C:\Users\root\Desktop\RunTests\atomic-red-team\atomics"}
  - Import-Module 'C:\Users\root\Desktop\RunTests\invoke-atomicredteam\Invoke-AtomicRedTeam.psd1' -Force
  - Invoke-AtomicTest TXXXX -ShowDetailsBrief
  - Invoke-AtomicTest TXXXX -TestNumbers Y -ShowDetails
  - Invoke-AtomicTest TXXXX -TestNumbers Y -GetPrereqs
  - look for the specific test in ART (~atomic_red_team/atomics/Indexes/index.yaml is a good place to find that info)
      to understand what the test is doing.
  - manually run the test to see that it works on the test machine cleanly
     - run command prompt or powershell as it is specified in the yaml file
	 - execute the command
- check sysmon logging to understand what telemetry is created by this test
- now try running this test with invoke-atomicredteam framework
     - run powershell admin
	 - Invoke-AtomicTest TXXXX -TestNumbers Y
	 - Invoke-AtomicTest TXXXX -TestNumbers Y -Cleanup
- try this test in ATF automation
  - cd c:\Users\root\Desktop\RunTests\atf
  - edit TestList.ps1 and add the test lines, following the format seen there.
- Push the test to production.
	- Git status to see if we are syncronized with the ATF remote repo.
	- Git add TestList.ps1
	- Git commit -m "Meaningfull comment concerning the test"
	- Git push to push changes to remote ATF repo.
 